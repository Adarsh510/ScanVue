{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\MAIN\\\\CODE\\\\BTP_Project-master\\\\BTP_Project-master\\\\client\\\\src\\\\components\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Camera from \"./camerautil\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUpload = props => {\n  _s();\n  // let uploadInput = \"\";\n\n  const [preview, setPreview] = useState();\n  const [uploadImage, setUploadImage] = useState();\n  const handleUploadImage = () => {\n    const data = new FormData();\n    console.log(\"============here===========\");\n    data.append(\"file\", uploadImage);\n    // data.append(\"file\", uploadInput.files[0]);\n    // data.append(\"filename\", this.fileName.value);\n    fetch(props.url, {\n      method: \"POST\",\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        props.setImageOutputUrl(`http://localhost:5000/display/${body.dataOutput}?${Date.now()}`);\n        props.setImageInputUrl(`http://localhost:5000/display/${body.dataInput}?${Date.now()}`);\n        props.setText(body.text);\n        props.speak(body.text);\n        setPreview(undefined);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setPreview(undefined);\n      return;\n    }\n    setUploadImage(e.target.files[0]);\n    const objectUrl = URL.createObjectURL(e.target.files[0]);\n    setPreview(objectUrl);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: ev => {\n          ev.preventDefault();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: \"Please select any file or capture photo from webcam/camera.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 p-4\",\n            style: {\n              border: \"4px solid #f8f9fa\",\n              borderRight: \"2px solid rgba(126, 1188, 159,1) \"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              // ref={(ref) => {\n              //   uploadInput = ref;\n              // }}\n              className: \"form-control btn-outline-secondary\",\n              type: \"file\",\n              onChange: onSelectFile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 p-4\",\n            style: {\n              border: \"4px solid #f8f9fa\",\n              borderLeft: \"2px solid rgba(126, 1188, 159,1) \"\n            },\n            children: /*#__PURE__*/_jsxDEV(Camera, {\n              sendFile: async file => {\n                // var uploadInput = file;\n                const objectUrl = URL.createObjectURL(file);\n                setPreview(objectUrl);\n                setUploadImage(file);\n                console.log(\"camera\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row px-4 m-2 mx-5\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            disabled: !preview,\n            onClick: () => handleUploadImage(),\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"4px solid #f8f9fa\",\n        padding: \"10px\",\n        margin: \"10px\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"display-5\",\n        children: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          maxWidth: \"50%\"\n        },\n        src: preview,\n        alt: \"Uploaded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"p2KPDPJO9DqYXjh5H5RoZSZ0ry8=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","Camera","jsxDEV","_jsxDEV","FileUpload","props","_s","preview","setPreview","uploadImage","setUploadImage","handleUploadImage","data","FormData","console","log","append","fetch","url","method","body","then","response","json","setImageOutputUrl","dataOutput","Date","now","setImageInputUrl","dataInput","setText","text","speak","undefined","catch","err","onSelectFile","e","target","files","length","objectUrl","URL","createObjectURL","Fragment","children","className","onSubmit","ev","preventDefault","fileName","_jsxFileName","lineNumber","columnNumber","style","border","borderRight","type","onChange","borderLeft","sendFile","file","disabled","onClick","padding","margin","textAlign","maxWidth","src","alt","_c","$RefreshReg$"],"sources":["D:/Project/MAIN/CODE/BTP_Project-master/BTP_Project-master/client/src/components/FileUpload.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Camera from \"./camerautil\";\n\nconst FileUpload = (props) => {\n  // let uploadInput = \"\";\n\n  const [preview, setPreview] = useState();\n  const [uploadImage, setUploadImage] = useState();\n  const handleUploadImage = () => {\n    const data = new FormData();\n    console.log(\"============here===========\");\n    data.append(\"file\", uploadImage);\n    // data.append(\"file\", uploadInput.files[0]);\n    // data.append(\"filename\", this.fileName.value);\n    fetch(props.url, {\n      method: \"POST\",\n      body: data,\n    })\n      .then((response) => {\n        response.json().then((body) => {\n          props.setImageOutputUrl(\n            `http://localhost:5000/display/${body.dataOutput}?${Date.now()}`\n          );\n          props.setImageInputUrl(\n            `http://localhost:5000/display/${body.dataInput}?${Date.now()}`\n          );\n          props.setText(body.text);\n          props.speak(body.text);\n          setPreview(undefined);\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const onSelectFile = (e) => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setPreview(undefined);\n      return;\n    }\n    setUploadImage(e.target.files[0]);\n    const objectUrl = URL.createObjectURL(e.target.files[0]);\n    setPreview(objectUrl);\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"container \">\n        <form\n          onSubmit={(ev) => {\n            ev.preventDefault();\n          }}\n        >\n          <p className=\"text-center\">\n            Please select any file or capture photo from webcam/camera.\n          </p>\n          <div className=\"row\">\n            <div\n              className=\"col-6 p-4\"\n              style={{\n                border: \"4px solid #f8f9fa\",\n                borderRight: \"2px solid rgba(126, 1188, 159,1) \",\n              }}\n            >\n              <input\n                // ref={(ref) => {\n                //   uploadInput = ref;\n                // }}\n                className=\"form-control btn-outline-secondary\"\n                type=\"file\"\n                onChange={onSelectFile}\n              />\n            </div>\n            {/* <div>\n          <input\n            ref={(ref) => {\n              this.fileName = ref;\n            }}\n            type=\"text\"\n            placeholder=\"Enter the desired name of file\"\n          />\n        </div> */}\n            <br />\n            <div\n              className=\"col-6 p-4\"\n              style={{\n                border: \"4px solid #f8f9fa\",\n                borderLeft: \"2px solid rgba(126, 1188, 159,1) \",\n              }}\n            >\n              <Camera\n                sendFile={async (file) => {\n                  // var uploadInput = file;\n                  const objectUrl = URL.createObjectURL(file);\n                  setPreview(objectUrl);\n                  setUploadImage(file);\n                  console.log(\"camera\");\n                }}\n              />\n            </div>\n          </div>\n          <div className=\"row px-4 m-2 mx-5\">\n            <button\n              className=\"btn btn-success\"\n              disabled={!preview}\n              onClick={() => handleUploadImage()}\n            >\n              Upload\n            </button>\n          </div>\n        </form>\n      </div>\n      {preview && (\n        <div\n          style={{\n            border: \"4px solid #f8f9fa\",\n            padding: \"10px\",\n            margin: \"10px\",\n            textAlign: \"center\",\n          }}\n        >\n          <h3 className=\"display-5\">Preview</h3>\n          <img style={{ maxWidth: \"50%\" }} src={preview} alt=\"Uploaded\" />\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}